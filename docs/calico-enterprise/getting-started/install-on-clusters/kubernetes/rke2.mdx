---
title: RKE2 - Rancher's Next Generation Kubernetes Distribution
description: Install Calico Enterprise on an RKE2 cluster.
---

## Big picture

Install {{prodname}} as the required CNI for networking and/or network policy on Rancher's Next-generation Kubernetes Distribution (RKE2) clusters.

## Concepts

{{prodname}} supports the Calico CNI with {{prodname}} network policy:

The geeky details of what you get:
{% include geek-details.html details='Policy:Calico,IPAM:Calico,CNI:Calico,Overlay:VXLAN,Routing:BGP,Datastore:Kubernetes' %}

## Before you begin

**Required**

- RKE2 cluster meets the [{{side.prodname}} requirements](/getting-started/kubernetes/requirements)

- A compatible [RKE2 cluster](https://docs.rke2.io/).
  - The version of RKE2 aligns with the [{{side.prodname}} Kubernetes versions requirements](/getting-started/kubernetes/requirements#supported-kubernetes-versions)
  - [Configure](https://docs.rke2.io/install/install_options/install_options/) cluster with no CNI plugin; either by using `--cni none` with the RKE2 CLI or `RKE2_CNI=none` with the installation script or setting `cni: none` in the [configuration file](https://docs.rke2.io/install/install_options/install_options/#configuration-file).

- [Credentials for the Tigera private registry and a license key](../../calico-enterprise.mdx).

- A `kubectl` environment with access to your cluster
  - Ensure you have the [Kubeconfig file that was generated when you created the cluster](https://docs.rke2.io/cluster_access/).

- If using a Kubeconfig file locally, [install and set up the Kubectl CLI tool](https://kubernetes.io/docs/tasks/tools/install-kubectl/).

## How to

- [Install {{prodname}}](#install-calico-enterprise)
- [Install the {{prodname}} license](#install-the-calico-enterprise-license)


### Install {{prodname}}

1. [Configure a storage class for {{prodname}}.](../../create-storage.mdx).

1. Install the Tigera operator and custom resource definitions.

   ```bash
   kubectl create -f {{ "/manifests/tigera-operator.yaml" | absolute_url }}
   ```

1. Install the Prometheus operator and related custom resource definitions. The Prometheus operator will be used to deploy Prometheus server and Alertmanager to monitor {{prodname}} metrics.

   :::note

   If you have an existing Prometheus operator in your cluster that you want to use, skip this step. To work with {{prodname}}, your Prometheus operator must be v0.40.0 or higher.
   
   :::

   ```bash
   kubectl create -f {{ "/manifests/tigera-prometheus-operator.yaml" | absolute_url }}
   ```

1. Install your pull secret.

   If pulling images directly from `quay.io/tigera`, you will likely want to use the credentials provided to you by your Tigera support representative. If using a private registry, use your private registry credentials instead.

   ```bash
   kubectl create secret generic tigera-pull-secret \
       --type=kubernetes.io/dockerconfigjson -n tigera-operator \
       --from-file=.dockerconfigjson=<path/to/pull/secret>
   ```

   For the Prometheus operator, create the pull secret in the `tigera-prometheus` namespace and then patch the deployment.

   ```bash
   kubectl create secret generic tigera-pull-secret \
       --type=kubernetes.io/dockerconfigjson -n tigera-prometheus \
       --from-file=.dockerconfigjson=<path/to/pull/secret>
   kubectl patch deployment -n tigera-prometheus calico-prometheus-operator \
       -p '{"spec":{"template":{"spec":{"imagePullSecrets":[{"name": "tigera-pull-secret"}]}}}}'
   ```

1. Install any extra [Calico resources](/reference/resources) needed at cluster start using [calicoctl](../../../reference/calicoctl/overview.mdx).

1. Install the Tigera custom resources. For more information on configuration options available, see [the installation reference](/reference/installation/api).

   ```bash
   kubectl create -f {{ "/manifests/rancher/custom-resources-rke2.yaml" | absolute_url }}
   ```

   You can now monitor progress with the following command:

   ```bash
   watch kubectl get tigerastatus
   ```

   Wait until the `apiserver` shows a status of `Available`, then proceed to the next section.

### Install the {{prodname}} license

In order to use {{prodname}}, you must install the license provided to you by Tigera.

```bash
kubectl create -f </path/to/license.yaml>
```

You can now monitor progress with the following command:

```bash
watch kubectl get tigerastatus
```


## Next steps

**Recommended**

- [Configure access to {{prodname}} Manager UI](../../cnx/access-the-manager.mdx)
- [Authentication quickstart](../../cnx/authentication-quickstart.mdx)
- [Configure your own identity provider](../../cnx/configure-identity-provider.mdx)

**Recommended - Networking**

- The default networking uses VXLAN encapsulation with BPG routing. For all networking options, see [Determine best networking option](../../../networking/determine-best-networking.mdx).

**Recommended - Security**

- [Get started with {{prodname}} tiered network policy](../../../security/tiered-policy.mdx)
