---
description: Understand the architecture of Calico Enterprise multi-cluster management, including management and managed cluster topology, the guardian component, and communication model.
---

# Multi-cluster management architecture

$[prodname] multi-cluster management lets you centralize control of multiple Kubernetes clusters in a single management plane. This page explains the architectural components and how they interact.

## Management and managed cluster topology

A multi-cluster management deployment consists of two cluster roles:

- **Management cluster**: The central cluster that hosts the $[prodname] web console (Manager), centralized log storage (Elasticsearch), and the control plane for all connected clusters.
- **Managed cluster**: A cluster that connects to the management cluster and forwards its log data, telemetry, and resource information to the central management plane.

A management cluster can manage many managed clusters. Each managed cluster maintains a persistent connection to the management cluster.

### What the management cluster provides

- Centralized web console for visibility and control across all clusters
- Centralized Elasticsearch for log storage (flow logs, audit logs, DNS logs, L7 logs, events)
- Aggregated Prometheus metrics
- Cross-cluster RBAC enforcement — users authenticate on the management cluster and their identity is passed to managed clusters for authorization

### What managed clusters handle locally

- Local policy enforcement and data plane operations
- Local $[prodname] components (calico-node, Typha, kube-controllers)
- Connection to the management cluster via a `ManagementClusterConnection` resource

## Communication model

Managed clusters connect to the management cluster over **port 9449** (TCP). The management cluster exposes this port through a Kubernetes Service in the `calico-system` namespace that targets the Manager pod using the label selector `k8s-app: calico-manager`.

The service type can be:

- **NodePort** — simplest for getting started; maps an external port (e.g. 30449) to 9449 on the Manager pod.
- **LoadBalancer** — recommended for production and high availability.

A security rule or firewall rule is required to allow inbound connections from managed clusters to the management cluster on this port.

## Key custom resources

| Resource | Cluster | Purpose |
|---|---|---|
| `ManagementCluster` | Management | Declares the cluster as a management cluster and specifies the address managed clusters use to connect. |
| `ManagedCluster` | Management | Registers a managed cluster, triggers generation of an installation manifest. |
| `ManagementClusterConnection` | Managed | Connects the managed cluster to the management cluster. Applied from the manifest generated by the `ManagedCluster` resource. |

## Guardian

Guardian is the component on managed clusters that maintains the connection to the management cluster. It is deployed automatically when the `ManagementClusterConnection` is applied to a managed cluster. Guardian:

- Establishes and maintains a secure tunnel to the management cluster
- Forwards log data to centralized storage
- Proxies API requests from the management cluster to local cluster resources

## Log data flow

All log data from managed clusters flows through the Guardian tunnel to the management cluster's Elasticsearch instance. Indexes are namespaced by cluster name using the pattern:

```
<log-type>.<cluster-name>.<date>
```

The management cluster itself uses the cluster name `cluster`. Managed clusters use the name chosen during registration.

## Next steps

- [Cluster mesh and federation](cluster-mesh.mdx)
- [Security model](security-model.mdx)
