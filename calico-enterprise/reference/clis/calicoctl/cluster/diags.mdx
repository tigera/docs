---
title: calicoctl cluster diags
description: Command to get diagnostics from a Calico cluster.
canonical_url: '/reference/calicoctl/cluster/diags'
---

This section describes the `calicoctl cluster diags` command.

Read the [calicoctl Overview]({{ site.baseurl }}/reference/calicoctl/overview)
for a full list of calicoctl commands.

Note, this command can be run from any location that has access to the cluster
(e.g. anywhere with kubeconfig).

## Displaying the help text for 'calicoctl cluster diags' command

Run `calicoctl cluster diags --help` to display the following help menu for the
command.

```
Usage:
  calicoctl cluster diags [--since=<SINCE>] [--config=<CONFIG>]

Options:
  -h --help               Show this screen.
     --since=<SINCE>      Only collect logs newer than provided relative duration,
                          in seconds (s), minutes (m) or hours (h)
  -c --config=<CONFIG>    Path to the file containing connection configuration in
                          YAML or JSON format.
                          [default: /etc/calico/calicoctl.cfg]

Description:
  The cluster diags command collects a snapshot of diagnostic info and logs related
  to Calico for the given cluster.
```
{: .no-select-button}

### Examples

```bash
calicoctl cluster diags
calicoctl cluster diags --since=1h
```

An example response follows.

```
==== Begin collecting diagnostics. ====
Collecting kubernetes version...
Collect kubernetes Client and Server version
Collecting Calico resources...
Collect Calico clusterinformations
Collect Calico clusterinformations
Collect Calico felixconfigurations
Collect Calico felixconfigurations
Collect Calico bgppeers
Collect Calico bgppeers
Collect Calico bgpconfigurations
Collect Calico bgpconfigurations
Collect Calico ipamblocks
Collect Calico ipamblocks
Collect Calico blockaffinities
Collect Calico blockaffinities
Collect Calico ipamhandles
Collect Calico ipamhandles
Collect Calico tiers
Collect Calico tiers
Collect Calico networkpolicies
Collect Calico networkpolicies
Collect Calico clusterinformations
Collect Calico clusterinformations
Collect Calico hostendpoints
Collect Calico hostendpoints
Collect Calico ippools
Collect Calico ippools
Collect Calico licensekeys
Collect Calico licensekeys
Collect Calico networksets
Collect Calico networksets
Collect Calico globalnetworksets
Collect Calico globalnetworksets
Collect Calico globalnetworkpolicies
Collect Calico globalnetworkpolicies
Collecting Tigera operator details ...
Collect tigerastatuses
Collect tigerastatuses
Collect installations
Collect installations
Collect apiservers
Collect apiservers
Collect compliances
Collect compliances
Collect intrusiondetections
Collect intrusiondetections
Collect managers
Collect managers
Collect logcollectors
Collect logcollectors
Collect logstorages
Collect logstorages
Collect managementclusterconnections
Collect managementclusterconnections
Collecting core kubernetes resources...
Collect nodes
Collect nodes
Collect pods
Collect pods
Collect deployments
Collect deployments
Collect daemonsets
Collect daemonsets
Collect services
Collect services
Collect endpoints
Collect endpoints
Collect configmaps
Collect configmaps
Collect persistent volume claim
Collect persistent volume claim
Collect persistent volume
Collect persistent volume
Collect storage class
Collect storage class
Collect all namespaces
Collect all namespaces

==== Producing a diagnostics bundle. ====
Diagnostic bundle available at ./calico-diagnostics.tar.gz
```
{: .no-select-button}

### Options

```
  --since=<SINCE>      Only collect logs newer than provided relative duration,
                       in seconds (s), minutes (m) or hours (h)
  -c --config=<CONFIG> Path to the file containing connection configuration in
                       YAML or JSON format.
                       [default: /etc/calico/calicoctl.cfg]
```
{: .no-select-button}
