---
description: What's new, and why features provide value for upgrading.
title: Release notes
---

import variables from '@site/calico-enterprise_versioned_docs/version-3.18/variables';

# Calico Enterprise 3.18 release notes

:::info early preview release

Calico Enterprise 3.18 can be used for previewing and testing purposes only.
It is not supported for use in production.

:::

Learn about the new features, bug fixes, and other updates in this release of {variables.prodname}. For a list of component versions that are included this release, see [Component versions](../reference/component-versions).

## New features and enhancements

### Security event management

We've added a new Security event management dashboard for threat detection.
Security events provides context for suspicious activity detected in your cluster.
Combined with the Kubernetes context, you can see what workloads are affected.

For more information, see [Security event management](../threat/security-event-management).

### New performance optimizations for egress gateways

{variables.prodname} includes new performance options for egress gateway policies that can be used to ensure that application client and gateway pods are on the same cluster node.

For more information, see [Optimize egress networking for workloads with long-lived TCP connections](../networking/egress/egress-gateway-maintenance).

### Configurable XFF headers for Envoy

We've added support for XFF to propagate the original IP address when proxying application layer traffic with Envoy within a Kubernetes cluster.

For more information, see [Installation reference](../reference/installation/api#operator.tigera.io/v1.EnvoySettings).

### Alert-only mode for Workload-based Web Application Firewall (WAF)

We've added a new default mode for WAF that is monitor/event only.
This allows operators and security teams to verify the accuracy of configured rules before actively blocking traffic.

For more information, see [Web application firewall](../threat/web-application-firewall).

### Additional options for Helm-based installs

We've added new options for Helm installs including: set the number of replicas for specific deployments, node affinity rules, and configure Wireguard.

For more information, see [Helm installation reference](../reference/installation/helm_customization).

### Deprecated and removed features

The following features are being deprecated or removed in this release:

The Anomaly detection feature is no longer supported and documentation is removed. Anomaly detection has been reworked and added to [Security event management](../threat/security-event-management).

<!-- Optional, as needed
## Technology Preview features

A sentence that explains what technology preview features are.

### TP feature name

stuff about this feature

For more information, see [link](https://docs.tigera.io).
-->

<!-- ## Bug fixes -->

<!-- Follow this template: Problem-Cause-Fix-Result -->

<!--
* Bug 1.
* Bug 2.
-->
<!--
## Security fixes

* Security fix.
-->

## Known issues

* TKG v1.x and MKE v3.6 are not supported at this time
* L7 logs with source name `pvt` is not visible in Service Graph
* *Multi-cluster management users only*. If the `manager-tls` and `internal-manager-tls` secrets have overlapping DNS names, components such as `es-calico-kube-controllers` will log certificate errors. If you have previously installed a version older than v3.13.0 and never changed your manager-tls secret from the tigera-operator namespace, you must delete both of these secrets. This applies to you if the following command prints a certificate: `$ kubectl get secret manager-tls -n tigera-operator -o "jsonpath={.data['cert']}"`
* Upgrading to {variables.prodname} 3.18.0 on Rancher/RKE from {variables.prodname} 3.13.0 currently requires manually terminating the calico-node container for an upgrade to proceed
* Calico panics if kube-proxy or other components are using native `nftables` rules instead of the `iptables-nft` compatibility shim. Until Calico supports native nftables mode, we recommend that you continue to use the iptables-nft compatibility layer for all components. (The compatibility layer was the only option before Kubernetes v1.29 added alpha-level `nftables` support.) Do not run Calico in "legacy" iptables mode on a system that is also using `nftables`. Although this combination does not panic or fail (at least on kernels that support both), the interaction between `iptables` "legacy" mode and `nftables` is confusing: both `iptables` and `nftables` rules can be executed on the same packet, leading to policy verdicts being "overturned".

## Release details

### Calico Enterprise 3.18.0 (early preview)

1 September 2023

Calico Enterprise 3.18.0 is now available as an early preview release.
This release is for previewing and testing purposes only.
It is not supported for use in production.

### Calico Enterprise 3.18.0-1.1 (early preview)

13 October 2023

Calico Enterprise 3.18.0-1-1  is now available as an early preview release.
This release is for previewing and testing purposes only.
It is not supported for use in production.

This release includes improvements and bug fixes.